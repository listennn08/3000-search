(this["webpackJsonp3000-search"]=this["webpackJsonp3000-search"]||[]).push([[0],{42:function(e,t,a){e.exports=a(73)},49:function(e,t,a){},50:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(9),o=a.n(c),r=a(10),i=a(36),s=(a(49),a(30)),u=a(31),m=a(40),d=a(37),f=(a(50),a(78)),h=a(77),v=(a(51),a(75)),p=a(76),b=a(79),E=function(e){var t=e.options.map((function(e,t){return l.a.createElement("option",{value:e.val,key:t},e.text)}));return l.a.createElement(v.a,{className:"justify-content-md-center mt-2 mb-2"},l.a.createElement(p.a,{md:"5"},l.a.createElement(b.a,{as:"select",custom:!0,onChange:function(t){var a=e.options.filter((function(e){if(e.val===t.target.value)return e.text}))[0].text,n={selected:t.target.value,selectedName:a};e.callback({county:n}),e.callback({township:{selected:"",selectedName:""}})}.bind(void 0),value:e.county.selected},l.a.createElement("option",{value:"",disabled:!0},"---\u8acb\u9078\u64c7\u7e23\u5e02---"),t)))},w=a(39),x=a(8),y=a(7),g=a.n(y),O=function(e){var t=Object(n.useState)([]),a=Object(x.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){r()}),[e.county.selected,e.county.selectedName]);var r=function(){e.county.selected&&g.a.get("https://api.nlsc.gov.tw/other/ListTown1/".concat(e.county.selected),(function(t){if(g()(t).find("townItem").length>0){var a=Object(w.a)(g()(t).find("townItem")).filter((function(e){return g()(e).find("towncode01").html()})).map((function(t){return g()(t).find("townname").html().indexOf("\u81fa\u7063\u7701")>-1?g()(t).find("townname").html(g()(t).find("townname").html().replace("\u81fa\u7063\u7701","")):g()(t).find("townname").html().indexOf("\u798f\u5efa\u7701")>-1&&g()(t).find("townname").html(g()(t).find("townname").html().replace("\u798f\u5efa\u7701","")),{text:g()(t).find("townname").html().replace(e.county.selectedName,""),val:g()(t).find("townname").html().replace(e.county.selectedName,"")}}));o(a)}}))},i=c.map((function(e,t){return l.a.createElement("option",{value:e.val,key:t},e.text)}));return e.county.selected&&l.a.createElement(v.a,{className:"justify-content-md-center mb-2 mt-2"},l.a.createElement(p.a,{md:"5"},l.a.createElement(b.a,{as:"select",custom:!0,onChange:function(t){var a={selected:t.target.value,selectedName:t.target.value};e.callback({township:a})}.bind(void 0),value:e.township.selected},l.a.createElement("option",{value:"",disabled:!0},"---\u8acb\u9078\u64c7\u9109\u93ae\u5e02\u5340---"),i)))},j=a(32),k=a(33),N=a.n(k),S=a(34),C=function(e){var t=Object(n.useState)([]),a=Object(x.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(""),i=Object(x.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)(0),d=Object(x.a)(m,2),f=d[0],h=(d[1],Object(n.useState)(!1)),v=Object(x.a)(h,2),p=v[0],b=v[1];function E(){b(!0),N.a.get("https://3000.gov.tw/hpgapi-openmap/api/getPostData").then((function(t){u(t.data[0].updateTime),o(t.data.filter((function(t){return e.county.selected?t.hsnCd===e.county.selected:t})).filter((function(t){return e.township.selected?t.townNm===e.township.selected:t})).slice(f,f+100)),b(!1)}))}Object(n.useEffect)((function(){E()}),[]),Object(n.useEffect)((function(){E()}),[e.county.selected]),Object(n.useEffect)((function(){E()}),[e.township.selected]);var w=c.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.hsnNm),l.a.createElement("td",null,e.storeNm),l.a.createElement("td",null,l.a.createElement("a",{href:"".concat("https://www.google.com.tw/maps/place/").concat(e.zipCd).concat(e.addr.replace(/\(.*\)/,""),"/@").concat(e.latitude,",").concat(e.longitude),title:"\u6253\u958b google \u5730\u5716",target:"_bland"},e.addr)),l.a.createElement("td",null,e.tel),l.a.createElement("td",null,e.busiTime.split("<br>").map((function(e,t){return l.a.createElement("div",{key:"busiT".concat(t)},e)}))),l.a.createElement("td",null,e.busiMemo.split("<br>").map((function(e,t){return l.a.createElement("div",{key:"busiM".concat(t)},e)}))),l.a.createElement("td",null,e.total))}));return l.a.createElement("div",{className:"position-relavtive"},l.a.createElement(S.a,{striped:!0,bordered:!0,hover:!0,className:"position-relative"},l.a.createElement("caption",{className:"text-right"},"\u66f4\u65b0\u6642\u9593\uff1a",s),l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\u7e23\u5e02\u540d\u7a31"),l.a.createElement("th",null,"\u5206\u5c40\u540d\u7a31"),l.a.createElement("th",null,"\u5730\u5740"),l.a.createElement("th",null,"\u96fb\u8a71"),l.a.createElement("th",null,"\u71df\u696d\u6642\u9593"),l.a.createElement("th",null,"\u71df\u696d\u5099\u8a3b"),l.a.createElement("th",null,"\u5b58\u91cf"))),l.a.createElement("tbody",null,w)),l.a.createElement(j.a,{icon:["fas","spinner"],className:"fa-spin fa-3x fa-fw position-absolute absolute-center "+(p?"visible":"invisible")}))},T=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).callback=function(t){e.setState(t)},e.state={cnOptions:[{text:"\u81fa\u5317\u5e02",val:"A"},{text:"\u81fa\u4e2d\u5e02",val:"B"},{text:"\u57fa\u9686\u5e02",val:"C"},{text:"\u81fa\u5357\u5e02",val:"D"},{text:"\u9ad8\u96c4\u5e02",val:"E"},{text:"\u65b0\u5317\u5e02",val:"F"},{text:"\u5b9c\u862d\u7e23",val:"G"},{text:"\u6843\u5712\u5e02",val:"H"},{text:"\u65b0\u7af9\u5e02",val:"O"},{text:"\u65b0\u7af9\u7e23",val:"J"},{text:"\u82d7\u6817\u7e23",val:"K"},{text:"\u5357\u6295\u7e23",val:"M"},{text:"\u5f70\u5316\u7e23",val:"N"},{text:"\u96f2\u6797\u7e23",val:"P"},{text:"\u5609\u7fa9\u5e02",val:"I"},{text:"\u5609\u7fa9\u7e23",val:"Q"},{text:"\u5c4f\u6771\u7e23",val:"T"},{text:"\u82b1\u84ee\u7e23",val:"U"},{text:"\u81fa\u6771\u7e23",val:"V"},{text:"\u6f8e\u6e56\u7e23",val:"X"},{text:"\u91d1\u9580\u7e23",val:"W"},{text:"\u9023\u6c5f\u7e23",val:"Z"}],county:{selected:"",selectedName:""},township:{selected:"",selectedName:""}},e}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(f.a,{bg:"dark",variant:"dark",expand:"lg"},l.a.createElement(f.a.Brand,{href:"#"},"\u632f\u8208\u5238\u90f5\u5c40\u5eab\u5b58\u901f\u67e5")),l.a.createElement(h.a,null,l.a.createElement(E,{options:this.state.cnOptions,county:this.state.county,callback:this.callback}),l.a.createElement(O,{county:this.state.county,township:this.state.township,callback:this.callback}),l.a.createElement(C,{county:this.state.county,township:this.state.township})),l.a.createElement("footer",{className:"bg-light position-fixed fixed-bottom"},"made by listennn08."))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.b.add(i.a),o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.c1190444.chunk.js.map
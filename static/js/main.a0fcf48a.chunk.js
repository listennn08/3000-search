(this["webpackJsonp3000-search"]=this["webpackJsonp3000-search"]||[]).push([[0],{37:function(e,t,a){e.exports=a(68)},42:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},44:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(8),o=a.n(c),r=(a(42),a(27)),i=a(28),s=a(35),u=a(32),m=(a(43),a(44),a(73)),d=a(72),f=(a(45),a(70)),h=a(71),v=a(74),p=function(e){var t=e.options.map((function(e){return l.a.createElement("option",{value:e.val},e.text)}));return l.a.createElement(f.a,{className:"justify-content-md-center"},l.a.createElement(h.a,{md:"5"},l.a.createElement(v.a,{as:"select",custom:!0,class:"offset-md-5 form-control col-md-3 mb-2 mt-2",onChange:function(t){var a=e.options.filter((function(e){if(e.val===t.target.value)return e.text}))[0].text,n={selected:t.target.value,selectedName:a};e.callback({county:n}),e.callback({township:{selected:"",selectedName:""}})}.bind(void 0),value:e.county.selected},l.a.createElement("option",{value:"",disabled:!0},"---\u8acb\u9078\u64c7\u7e23\u5e02---"),t)))},E=a(34),b=a(7),w=a(6),x=a.n(w),g=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){r()}),[e.county.selected,e.county.selectedName]);var r=function(){e.county.selected&&x.a.get("https://api.nlsc.gov.tw/other/ListTown1/".concat(e.county.selected),(function(t){if(x()(t).find("townItem").length>0){var a=Object(E.a)(x()(t).find("townItem")).filter((function(e){return x()(e).find("towncode01").html()})).map((function(t){return x()(t).find("townname").html().indexOf("\u81fa\u7063\u7701")>-1?x()(t).find("townname").html(x()(t).find("townname").html().replace("\u81fa\u7063\u7701","")):x()(t).find("townname").html().indexOf("\u798f\u5efa\u7701")>-1&&x()(t).find("townname").html(x()(t).find("townname").html().replace("\u798f\u5efa\u7701","")),{text:x()(t).find("townname").html().replace(e.county.selectedName,""),val:x()(t).find("townname").html().replace(e.county.selectedName,"")}}));o(a)}}))},i=c.map((function(e){return l.a.createElement("option",{value:e.val},e.text)}));return e.county.selected&&l.a.createElement(f.a,{className:"justify-content-md-center"},l.a.createElement(h.a,{md:"5"},l.a.createElement(v.a,{as:"select",custom:!0,onChange:function(t){var a={selected:t.target.value,selectedName:t.target.value};e.callback({township:a})}.bind(void 0),value:e.township.selected},l.a.createElement("option",{value:"",disabled:!0},"---\u8acb\u9078\u64c7\u9109\u93ae\u5e02\u5340---"),i)))},y=a(29),O=a.n(y),j=a(30),k=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(""),i=Object(b.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)(0),d=Object(b.a)(m,2),f=d[0],h=(d[1],Object(n.useState)(!1)),v=Object(b.a)(h,2),p=(v[0],v[1]);function E(){p(!0),O.a.get("https://3000.gov.tw/hpgapi-openmap/api/getPostData").then((function(t){u(t.data[0].updateTime),o(t.data.filter((function(t){return e.county.selected?t.hsnCd===e.county.selected:t})).filter((function(t){return e.township.selected?t.townNm===e.township.selected:t})).slice(f,f+100)),p(!1)}))}Object(n.useEffect)((function(){E()}),[]),Object(n.useEffect)((function(){E()}),[e.county.selected]),Object(n.useEffect)((function(){E()}),[e.township.selected]);var w=c.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.hsnNm),l.a.createElement("td",null,e.storeNm),l.a.createElement("td",null,l.a.createElement("a",{href:"".concat("https://www.google.com.tw/maps/place/").concat(e.zipCd).concat(e.addr.replace(/\(.*\)/,""),"/@").concat(e.latitude,",").concat(e.longitude),title:"\u6253\u958b google \u5730\u5716",target:"_bland"},e.addr)),l.a.createElement("td",null,e.tel),l.a.createElement("td",null,e.busiTime.split("<br>").map((function(e){return l.a.createElement("div",null,e)}))),l.a.createElement("td",null,e.busiMemo.split("<br>").map((function(e){return l.a.createElement("div",null,e)}))),l.a.createElement("td",null,e.total))}));return l.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("caption",{class:"text-right"},"\u66f4\u65b0\u6642\u9593\uff1a",s),l.a.createElement("thead",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\u7e23\u5e02\u540d\u7a31"),l.a.createElement("th",null,"\u5206\u5c40\u540d\u7a31"),l.a.createElement("th",null,"\u5730\u5740"),l.a.createElement("th",null,"\u96fb\u8a71"),l.a.createElement("th",null,"\u71df\u696d\u6642\u9593"),l.a.createElement("th",null,"\u71df\u696d\u5099\u8a3b"),l.a.createElement("th",null,"\u5b58\u91cf")),l.a.createElement("tbody",null,w))},N=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).callback=function(t){e.setState(t)},e.state={cnOptions:[{text:"\u81fa\u5317\u5e02",val:"A"},{text:"\u81fa\u4e2d\u5e02",val:"B"},{text:"\u57fa\u9686\u5e02",val:"C"},{text:"\u81fa\u5357\u5e02",val:"D"},{text:"\u9ad8\u96c4\u5e02",val:"E"},{text:"\u65b0\u5317\u5e02",val:"F"},{text:"\u5b9c\u862d\u7e23",val:"G"},{text:"\u6843\u5712\u5e02",val:"H"},{text:"\u65b0\u7af9\u5e02",val:"O"},{text:"\u65b0\u7af9\u7e23",val:"J"},{text:"\u82d7\u6817\u7e23",val:"K"},{text:"\u5357\u6295\u7e23",val:"M"},{text:"\u5f70\u5316\u7e23",val:"N"},{text:"\u96f2\u6797\u7e23",val:"P"},{text:"\u5609\u7fa9\u5e02",val:"I"},{text:"\u5609\u7fa9\u7e23",val:"Q"},{text:"\u5c4f\u6771\u7e23",val:"T"},{text:"\u82b1\u84ee\u7e23",val:"U"},{text:"\u81fa\u6771\u7e23",val:"V"},{text:"\u6f8e\u6e56\u7e23",val:"X"},{text:"\u91d1\u9580\u7e23",val:"W"},{text:"\u9023\u6c5f\u7e23",val:"Z"}],county:{selected:"",selectedName:""},township:{selected:"",selectedName:""}},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(m.a,{bg:"dark",variant:"dark",expand:"lg"},l.a.createElement(m.a.Brand,{href:"#"},"\u632f\u8208\u5238\u90f5\u5c40\u5eab\u5b58\u901f\u67e5")),l.a.createElement(d.a,null,l.a.createElement(p,{options:this.state.cnOptions,county:this.state.county,callback:this.callback}),l.a.createElement(g,{county:this.state.county,township:this.state.township,callback:this.callback}),l.a.createElement(k,{county:this.state.county,township:this.state.township})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.a0fcf48a.chunk.js.map
(this["webpackJsonp3000-search"]=this["webpackJsonp3000-search"]||[]).push([[0],{37:function(e,t,a){e.exports=a(67)},42:function(e,t,a){},43:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(9),o=a.n(c),r=(a(42),a(28)),i=a(29),s=a(35),u=a(32),m=(a(43),a(74)),d=a(73),f=(a(44),a(69)),h=a(70),p=a(75),v=function(e){var t=e.options.map((function(e,t){return l.a.createElement("option",{value:e.val,key:t},e.text)}));return l.a.createElement(f.a,{className:"justify-content-md-center mt-2 mb-2"},l.a.createElement(h.a,{md:"5"},l.a.createElement(p.a,{as:"select",custom:!0,onChange:function(t){var a=e.options.filter((function(e){if(e.val===t.target.value)return e.text}))[0].text,n={selected:t.target.value,selectedName:a};e.callback({county:n}),e.callback({township:{selected:"",selectedName:""}})}.bind(void 0),value:e.county.selected},l.a.createElement("option",{value:"",disabled:!0},"---\u8acb\u9078\u64c7\u7e23\u5e02---"),t)))},E=a(34),b=a(8),w=a(6),y=a.n(w),x=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){r()}),[e.county.selected,e.county.selectedName]);var r=function(){e.county.selected&&y.a.get("https://api.nlsc.gov.tw/other/ListTown1/".concat(e.county.selected),(function(t){if(y()(t).find("townItem").length>0){var a=Object(E.a)(y()(t).find("townItem")).filter((function(e){return y()(e).find("towncode01").html()})).map((function(t){return y()(t).find("townname").html().indexOf("\u81fa\u7063\u7701")>-1?y()(t).find("townname").html(y()(t).find("townname").html().replace("\u81fa\u7063\u7701","")):y()(t).find("townname").html().indexOf("\u798f\u5efa\u7701")>-1&&y()(t).find("townname").html(y()(t).find("townname").html().replace("\u798f\u5efa\u7701","")),{text:y()(t).find("townname").html().replace(e.county.selectedName,""),val:y()(t).find("townname").html().replace(e.county.selectedName,"")}}));o(a)}}))},i=c.map((function(e,t){return l.a.createElement("option",{value:e.val,key:t},e.text)}));return e.county.selected&&l.a.createElement(f.a,{className:"justify-content-md-center mb-2 mt-2"},l.a.createElement(h.a,{md:"5"},l.a.createElement(p.a,{as:"select",custom:!0,onChange:function(t){var a={selected:t.target.value,selectedName:t.target.value};e.callback({township:a})}.bind(void 0),value:e.township.selected},l.a.createElement("option",{value:"",disabled:!0},"---\u8acb\u9078\u64c7\u9109\u93ae\u5e02\u5340---"),i)))},k=a(30),g=a.n(k),O=a(76),N=a(71),j=a(72),C=function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(""),i=Object(b.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)(0),d=Object(b.a)(m,2),f=d[0],h=d[1],p=Object(n.useState)(!1),v=Object(b.a)(p,2),E=v[0],w=v[1];function y(){w(!0),g.a.get("https://3000.gov.tw/hpgapi-openmap/api/getPostData").then((function(t){u(t.data[0].updateTime),o(t.data.filter((function(t){return e.county.selected?t.hsnCd===e.county.selected:t})).filter((function(t){return e.township.selected?t.townNm===e.township.selected:t}))),w(!1)}))}Object(n.useEffect)((function(){y()}),[]),Object(n.useEffect)((function(){y()}),[e.county.selected]),Object(n.useEffect)((function(){y()}),[e.township.selected]);for(var x=c.slice(50*f,50*(f+1)).map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.hsnNm),l.a.createElement("td",null,e.storeNm),l.a.createElement("td",null,l.a.createElement("a",{href:"".concat("https://www.google.com.tw/maps/place/").concat(e.zipCd).concat(e.addr.replace(/\(.*\)/,""),"/@").concat(e.latitude,",").concat(e.longitude),title:"\u6253\u958b google \u5730\u5716",target:"_bland"},e.addr)),l.a.createElement("td",null,e.tel),l.a.createElement("td",null,e.busiTime.split("<br>").map((function(e,t){return l.a.createElement("div",{key:"busiT".concat(t)},e)}))),l.a.createElement("td",null,e.busiMemo.split("<br>").map((function(e,t){return l.a.createElement("div",{key:"busiM".concat(t)},e)}))),l.a.createElement("td",null,e.total))})),k=function(e){e>=0&&e<=I&&h(e)},C=f,I=c.length/50,S=[],T=function(e){C<3?e>0&&e<C+4||e>I-3?S.push(l.a.createElement(O.a.Item,{key:e,active:e===C,onClick:function(){return k(e)}},e+1)):e===C+5&&S.push(l.a.createElement(O.a.Ellipsis,{key:"ellipsis-1"})):e>0&&e<2||e>C-2&&e<C+2||e>I-2?S.push(l.a.createElement(O.a.Item,{key:e,active:e===C,onClick:function(){return k(e)}},e+1)):e===C-2?S.push(l.a.createElement(O.a.Ellipsis,{key:"ellipsis-1"})):e===C+2&&S.push(l.a.createElement(O.a.Ellipsis,{key:"ellipsis-2"}))},B=0;B<=I;B++)T(B);var M=l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(O.a,null,l.a.createElement(O.a.First,{onClick:function(){return k(1)}}),l.a.createElement(O.a.Prev,{onClick:function(){return k(f-1)}}),l.a.createElement(O.a.Item,{onClick:function(){return k(0)}},"1"),S,l.a.createElement(O.a.Next,{onClick:function(){return k(f+1)}}),l.a.createElement(O.a.Last,{onClick:function(){return k(I)}})));return l.a.createElement("div",{className:"overflow-hidden"},l.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0,className:"w-100"},l.a.createElement("caption",{className:"text-right"},"\u66f4\u65b0\u6642\u9593\uff1a",s),l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\u7e23\u5e02\u540d\u7a31"),l.a.createElement("th",null,"\u5206\u5c40\u540d\u7a31"),l.a.createElement("th",null,"\u5730\u5740"),l.a.createElement("th",null,"\u96fb\u8a71"),l.a.createElement("th",null,"\u71df\u696d\u6642\u9593"),l.a.createElement("th",null,"\u71df\u696d\u5099\u8a3b"),l.a.createElement("th",null,"\u5b58\u91cf"))),l.a.createElement("tbody",null,x)),M,l.a.createElement(j.a,{animation:"border",role:"status",className:"position-absolute absolute-bottom "+(E?"visible":"invisible")},l.a.createElement("span",{className:"sr-only"},"Loading...")))},I=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).callback=function(t){e.setState(t)},e.state={cnOptions:[{text:"\u81fa\u5317\u5e02",val:"A"},{text:"\u81fa\u4e2d\u5e02",val:"B"},{text:"\u57fa\u9686\u5e02",val:"C"},{text:"\u81fa\u5357\u5e02",val:"D"},{text:"\u9ad8\u96c4\u5e02",val:"E"},{text:"\u65b0\u5317\u5e02",val:"F"},{text:"\u5b9c\u862d\u7e23",val:"G"},{text:"\u6843\u5712\u5e02",val:"H"},{text:"\u65b0\u7af9\u5e02",val:"O"},{text:"\u65b0\u7af9\u7e23",val:"J"},{text:"\u82d7\u6817\u7e23",val:"K"},{text:"\u5357\u6295\u7e23",val:"M"},{text:"\u5f70\u5316\u7e23",val:"N"},{text:"\u96f2\u6797\u7e23",val:"P"},{text:"\u5609\u7fa9\u5e02",val:"I"},{text:"\u5609\u7fa9\u7e23",val:"Q"},{text:"\u5c4f\u6771\u7e23",val:"T"},{text:"\u82b1\u84ee\u7e23",val:"U"},{text:"\u81fa\u6771\u7e23",val:"V"},{text:"\u6f8e\u6e56\u7e23",val:"X"},{text:"\u91d1\u9580\u7e23",val:"W"},{text:"\u9023\u6c5f\u7e23",val:"Z"}],county:{selected:"",selectedName:""},township:{selected:"",selectedName:""}},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(m.a,{bg:"dark",variant:"dark",expand:"lg"},l.a.createElement(m.a.Brand,{href:"#"},"\u632f\u8208\u5238\u90f5\u5c40\u5eab\u5b58\u901f\u67e5")),l.a.createElement(d.a,null,l.a.createElement(v,{options:this.state.cnOptions,county:this.state.county,callback:this.callback}),l.a.createElement(x,{county:this.state.county,township:this.state.township,callback:this.callback}),l.a.createElement(C,{county:this.state.county,township:this.state.township})),l.a.createElement("footer",{className:"bg-light position-fixed fixed-bottom"},"made by listennn08."))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.5a366977.chunk.js.map